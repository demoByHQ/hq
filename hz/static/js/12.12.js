webpackJsonp([12,15],{78:function(t,e,a){var n,o;n=a(97);var s=a(175);o=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(o=n=n.default),"function"==typeof o&&(o=o.options),o.render=s.render,o.staticRenderFns=s.staticRenderFns,t.exports=n},97:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(4),s=a(31),i=n(s),r=a(25),c=n(r),d=a(13),u=n(d);e.default={data:function(){return{username:"",userID:"",title:"",time:"",teacher:"",address:"",picpath:"",appData:[],newPage:0,allLoaded:!1,bottomStatus:"",wrapperHeight:0}},created:function(){this.checkpwd()},mounted:function(){this.wrapperHeight=document.documentElement.clientHeight-this.$refs.wrapper.getBoundingClientRect().top,this.forbid("myTrain")},methods:{loadBottom:function(t){var e=this;setTimeout(function(){e.newPage+=1;var a=e.$store.state.devUrl+"myTrains",n={username:e.username,offset:e.newPage,perpage:10};e.$http.post(a,n).then(function(t){Indicator.close(),e.list=t.data.data,10==e.list.length?e.appData=e.appData.concat(e.list):(e.appData=e.appData.concat(e.list),e.allLoaded=!0)}),e.$refs.loadmore.onBottomLoaded(t)},500)},checkpwd:function(){function t(){function t(t){var e=new RegExp("(^|&?)"+t+"=([^&]*)(&|$)","i"),a=window.location.href,n=a.substr(a.toString().indexOf("?")+1).match(e),o="";return null!=n&&(o=n[2]),e=null,n=null,null==o||""==o||"undefined"==o?"":o}var a=t("code"),n=e.$store.state.devUrl+"wechatUsername";e.$http.post(n,{code:a}).then(function(t){if("E"==t.data.status,"S"==t.data.status){e.username=t.data.data.username;var a=(new Date).getTime().toString(),n=(0,u.default)(t.data.data.pre_token+t.data.data.token_key+a);e.$store.commit("storeToken",n),e.$store.commit("storeStamp",a);var o=e.$store.state.username;if(""===o){e.$store.commit("storename",e.username),e.setToken();var s=e.$store.state.devUrl+"myTrains",i={username:e.username,offset:0,perpage:10};e.$http.post(s,i).then(function(t){"S"==t.data.status&&(e.appData=t.data.data)})}}})}var e=this;t()},getList1:function(){},handleBottomChange:function(t){this.bottomStatus=t},goRouter:function(t){switch(t){case 1:this.$router.push({path:"/myTrain"});break;case 2:var e=this.$store.state.devUrl+"getJsapiParam",a=window.document.location.href.split("#")[0];c.default.getJSON(e,{url:a,success:function(t){}},function(t){i.default.config({debug:!1,appId:t.appId,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:["hideOptionMenu","checkJsApi","closeWindow","scanQRCode"]}),i.default.ready(function(){i.default.hideOptionMenu(),o.MessageBox.confirm("打开微信扫一扫扫描二维码").then(function(t){i.default.scanQRCode({desc:"scanQRCode desc",needResult:0,scanType:["qrCode","barCode"],success:function(t){},error:function(t){t.errMsg.indexOf("function_not_exist")>0&&alert("微信调用接口失败")}})})})})}}}}},175:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"workflow-detail1"},[t._m(0),t._v(" "),a("div",{ref:"wrapper",staticClass:"page-loadmore-wrapper",style:{height:t.wrapperHeight+"px"}},[a("mt-loadmore",{ref:"loadmore",attrs:{"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded,"auto-fill":!1},on:{"bottom-status-change":t.handleBottomChange}},t._l(t.appData,function(e,n){return a("div",{staticClass:"workflow"},[a("div",{staticClass:"flex-left top-gap units-gap"},[a("div",{staticClass:"unit-0 site-box"},[t._v("课程名称")]),t._v(" "),a("div",{staticClass:"unit site-box"},[t._v(t._s(e.lession_title))])]),t._v(" "),a("div",{staticClass:"flex-left top-gap units-gap"},[a("div",{staticClass:"unit-0 site-box"},[t._v("课程状态")]),t._v(" "),a("div",{staticClass:"unit site-box"},[t._v(t._s(e.status_desc))])])])}))],1),t._v(" "),a("mt-tabbar",{staticStyle:{position:"fixed"}},[a("mt-tab-item",{attrs:{id:"我的培训"},nativeOn:{click:function(e){t.goRouter(1)}}},[t._v("\n      我的培训\n    ")]),t._v(" "),a("mt-tab-item",{attrs:{id:"培训签到"},nativeOn:{click:function(e){t.goRouter(2)}}},[t._v("\n      培训签到\n    ")]),t._v(" "),a("mt-tab-item",{attrs:{id:"培训评价"},nativeOn:{click:function(e){t.goRouter(2)}}},[t._v("\n      培训评价\n    ")])],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"top1"},[a("p",[t._v("我的培训")])])}]}}});