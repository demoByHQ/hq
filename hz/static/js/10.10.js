webpackJsonp([10,15],{82:function(e,t,a){var s,n;a(153),s=a(101);var o=a(180);n=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(n=s=s.default),"function"==typeof n&&(n=n.options),n.render=o.render,n.staticRenderFns=o.staticRenderFns,e.exports=s},101:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(4),o=a(13),i=s(o);t.default={data:function(){return{username:"",username1:"",telePhone:"",valideCode:"",sendValidCodeOk:!1,btnGetCodeDisabled:!1,ConfirmDisabled:!0,valideText:"获取验证码",disabled:!0,show:!1,read:!0}},created:function(){"F"!=this.$route.params.status?this.checkpwd():(this.show=!0,this.username=this.$store.state.username)},mounted:function(){},watch:{telePhone:function(e){var t=e.toString();t.length>=11?this.disabled=!1:this.disabled=!0}},methods:{checkpwd:function(){function e(){var e=function(e){var t=new RegExp("(^|&?)"+e+"=([^&]*)(&|$)","i"),a=window.location.href,s=a.substr(a.toString().indexOf("?")+1).match(t),n="";return null!=s&&(n=s[2]),t=null,s=null,null==n||""==n||"undefined"==n?"":n},a=e("code"),s=t.$store.state.devUrl+"wechatUsername";t.$http.post(s,{code:a}).then(function(e){if("E"==e.data.status,"S"==e.data.status){t.username=e.data.data.username;var a=(new Date).getTime().toString(),s=(0,i.default)(e.data.data.pre_token+e.data.data.token_key+a);t.$store.commit("storeToken",s),t.$store.commit("storeStamp",a);var n=t.$store.state.username;if(""===n){t.$store.commit("storename",t.username),t.setToken();var o=t.$store.state.devUrl+"ynValidate",r={username:t.username};t.$http.post(o,r).then(function(e){"S"==e.data.status?t.$router.replace({name:"pwd",params:{status:"S"}}):t.show=!0})}}})}var t=this;e()},getList2:function(){},cellChange:function(){},getValidCode:function(){var e=this;this.valideText="获取中";var t=this.telePhone.toString(),a=this.$store.state.devUrl+"validateUser",s={username:this.username,phone:t};this.$http.post(a,s).then(function(t){"S"==t.data.status?(n.MessageBox.alert("验证码已发送，请注意查收","提示"),e.valideText="已发送",e.getTime()):"E"==t.data.status&&(n.MessageBox.alert(t.data.msg,"提示"),e.valideText="重新获取")})},confirm:function(){var e=this,t=this.$store.state.devUrl+"validateCode",a={username:this.username,code:this.valideCode};this.$http.post(t,a).then(function(t){"S"==t.data.status?n.MessageBox.alert("验证通过，请设置手势密码").then(function(t){e.$store.commit("storePwd",""),e.$store.commit("storePwd1",""),e.$router.replace({name:"pwd"})}):n.MessageBox.alert(t.data.msg)})},getTime:function(){var e=this,t=60,a=null;a=setInterval(function(){t--,e.valideText=t+"秒后重试",e.disabled=!0,t<=0&&(e.disabled=!1,e.valideText="获取验证码",clearInterval(a),t=60)},1e3)}}}},146:function(e,t,a){t=e.exports=a(16)(),t.push([e.id,"",""])},153:function(e,t,a){var s=a(146);"string"==typeof s&&(s=[[e.id,s,""]]);a(20)(s,{});s.locals&&(e.exports=s.locals)},180:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"resetPass"},[a("div",{staticClass:"changepass-box"},[a("div",{staticClass:"cp-title"},[e._v("身份验证")]),e._v(" "),a("mt-field",{attrs:{label:"用户名",placeholder:"请输入用户名",readonly:e.read,disableClear:e.read},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),e._v(" "),a("mt-field",{attrs:{label:"手机号",placeholder:"请输入手机号",type:"tel"},model:{value:e.telePhone,callback:function(t){e.telePhone=t},expression:"telePhone"}}),e._v(" "),a("mt-field",{attrs:{label:"验证码",placeholder:"请输入验证码",type:"tel"},model:{value:e.valideCode,callback:function(t){e.valideCode=t},expression:"valideCode"}}),e._v(" "),a("mt-button",{staticClass:"btn-valid-cellphone button button-clear",attrs:{disabled:e.disabled},nativeOn:{click:function(t){e.getValidCode()}}},[e._v(e._s(e.valideText))]),e._v(" "),a("div",{staticClass:"btn-confirm button",attrs:{disabled:e.ConfirmDisabled},on:{click:function(t){e.confirm()}}},[e._v("确认")])],1)])},staticRenderFns:[]}}});